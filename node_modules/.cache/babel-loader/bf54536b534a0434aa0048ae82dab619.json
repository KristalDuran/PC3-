{"ast":null,"code":"import { annotationRendering } from '../index';\nimport { createElement, isNullOrUndefined, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { getTemplateFunction, getElementOffset, getElementByID } from '../utils/helper';\n/**\n * Represents the annotation elements for map.\n */\n\nvar Annotations =\n/** @class */\nfunction () {\n  function Annotations(map) {\n    this.map = map;\n  }\n\n  Annotations.prototype.renderAnnotationElements = function () {\n    var _this = this;\n\n    var secondaryID = this.map.element.id + '_Secondary_Element';\n    var annotationGroup = createElement('div', {\n      id: this.map.element.id + '_Annotations_Group'\n    });\n    annotationGroup.style.position = 'absolute';\n    annotationGroup.style.top = '0px';\n    annotationGroup.style.left = '0px';\n    this.map.annotations.map(function (annotation, index) {\n      if (annotation.content !== null) {\n        _this.createAnnotationTemplate(annotationGroup, annotation, index);\n      }\n    });\n\n    if (annotationGroup.childElementCount > 0 && !isNullOrUndefined(getElementByID(secondaryID))) {\n      getElementByID(secondaryID).appendChild(annotationGroup);\n\n      for (var i = 0; i < this.map.annotations.length; i++) {\n        updateBlazorTemplate(this.map.element.id + '_ContentTemplate_' + i, 'ContentTemplate', this.map.annotations[i]);\n      }\n    }\n  };\n  /**\n   * To create annotation elements\n   */\n\n\n  Annotations.prototype.createAnnotationTemplate = function (parentElement, annotation, annotationIndex) {\n    var _this = this;\n\n    var left;\n    var top;\n    var templateFn;\n    var map = this.map;\n    var templateElement;\n    var availSize = map.availableSize;\n    var id = map.element.id + '_Annotation_' + annotationIndex;\n    var childElement = createElement('div', {\n      id: map.element.id + '_Annotation_' + annotationIndex,\n      styles: 'position: absolute; z-index:' + annotation.zIndex + ';'\n    });\n    var argsData = {\n      cancel: false,\n      name: annotationRendering,\n      content: annotation.content,\n      annotation: annotation\n    };\n    this.map.trigger(annotationRendering, argsData, function (annotationArgs) {\n      if (argsData.cancel) {\n        return;\n      }\n\n      var blazor = 'Blazor';\n      templateFn = getTemplateFunction(argsData.content);\n\n      if (templateFn && (!window[blazor] ? templateFn(_this.map, null, null, _this.map.element.id + '_ContentTemplate_' + annotationIndex).length : {})) {\n        templateElement = Array.prototype.slice.call(templateFn(!window[blazor] ? _this.map : {}, null, null, _this.map.element.id + '_ContentTemplate_' + annotationIndex));\n        var length_1 = templateElement.length;\n\n        for (var i = 0; i < length_1; i++) {\n          childElement.appendChild(templateElement[i]);\n        }\n      } else {\n        childElement.appendChild(createElement('div', {\n          innerHTML: argsData.content\n        }));\n      }\n    });\n    var offset = getElementOffset(childElement.cloneNode(true), map.element);\n    var elementRect = map.element.getBoundingClientRect();\n    var bounds = map.svgObject.getBoundingClientRect();\n    left = Math.abs(bounds.left - elementRect.left);\n    top = Math.abs(bounds.top - elementRect.top);\n    var annotationXValue = annotation.x.indexOf('%') > -1 ? availSize.width / 100 * parseFloat(annotation.x) : parseFloat(annotation.x);\n    var annotationYValue = annotation.y.indexOf('%') > -1 ? availSize.height / 100 * parseFloat(annotation.y) : parseFloat(annotation.y);\n    left = annotation.horizontalAlignment === 'None' ? left + annotationXValue : left;\n    top = annotation.verticalAlignment === 'None' ? top + annotationYValue : top;\n\n    switch (annotation.verticalAlignment) {\n      case 'Near':\n        top = top + annotationYValue;\n        break;\n\n      case 'Center':\n        top = top + annotationYValue + (bounds.height / 2 - offset.height / 2);\n        break;\n\n      case 'Far':\n        top = top + bounds.height + annotationYValue - offset.height;\n        break;\n    }\n\n    switch (annotation.horizontalAlignment) {\n      case 'Near':\n        left = left + annotationXValue;\n        break;\n\n      case 'Center':\n        left = left + annotationXValue + (bounds.width / 2 - offset.width / 2);\n        break;\n\n      case 'Far':\n        left = left + bounds.width + annotationXValue - offset.width;\n        break;\n    }\n\n    childElement.style.left = left + 'px';\n    childElement.style.top = top + 'px';\n    parentElement.appendChild(childElement);\n  };\n  /*\n  * Get module name.\n  */\n\n\n  Annotations.prototype.getModuleName = function () {\n    return 'Annotations';\n  };\n  /**\n   * To destroy the annotation.\n   * @return {void}\n   * @private\n   */\n\n\n  Annotations.prototype.destroy = function (map) {// Destroy method performed here\n  };\n\n  return Annotations;\n}();\n\nexport { Annotations };","map":{"version":3,"sources":["/Users/kristalduran/Desktop/PC3-/node_modules/@syncfusion/ej2-maps/src/maps/user-interaction/annotation.js"],"names":["annotationRendering","createElement","isNullOrUndefined","updateBlazorTemplate","getTemplateFunction","getElementOffset","getElementByID","Annotations","map","prototype","renderAnnotationElements","_this","secondaryID","element","id","annotationGroup","style","position","top","left","annotations","annotation","index","content","createAnnotationTemplate","childElementCount","appendChild","i","length","parentElement","annotationIndex","templateFn","templateElement","availSize","availableSize","childElement","styles","zIndex","argsData","cancel","name","trigger","annotationArgs","blazor","window","Array","slice","call","length_1","innerHTML","offset","cloneNode","elementRect","getBoundingClientRect","bounds","svgObject","Math","abs","annotationXValue","x","indexOf","width","parseFloat","annotationYValue","y","height","horizontalAlignment","verticalAlignment","getModuleName","destroy"],"mappings":"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","sourcesContent":["import { annotationRendering } from '../index';\nimport { createElement, isNullOrUndefined, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { getTemplateFunction, getElementOffset, getElementByID } from '../utils/helper';\n/**\n * Represents the annotation elements for map.\n */\nvar Annotations = /** @class */ (function () {\n    function Annotations(map) {\n        this.map = map;\n    }\n    Annotations.prototype.renderAnnotationElements = function () {\n        var _this = this;\n        var secondaryID = this.map.element.id + '_Secondary_Element';\n        var annotationGroup = createElement('div', { id: this.map.element.id + '_Annotations_Group' });\n        annotationGroup.style.position = 'absolute';\n        annotationGroup.style.top = '0px';\n        annotationGroup.style.left = '0px';\n        this.map.annotations.map(function (annotation, index) {\n            if (annotation.content !== null) {\n                _this.createAnnotationTemplate(annotationGroup, annotation, index);\n            }\n        });\n        if (annotationGroup.childElementCount > 0 && !(isNullOrUndefined(getElementByID(secondaryID)))) {\n            getElementByID(secondaryID).appendChild(annotationGroup);\n            for (var i = 0; i < this.map.annotations.length; i++) {\n                updateBlazorTemplate(this.map.element.id + '_ContentTemplate_' + i, 'ContentTemplate', this.map.annotations[i]);\n            }\n        }\n    };\n    /**\n     * To create annotation elements\n     */\n    Annotations.prototype.createAnnotationTemplate = function (parentElement, annotation, annotationIndex) {\n        var _this = this;\n        var left;\n        var top;\n        var templateFn;\n        var map = this.map;\n        var templateElement;\n        var availSize = map.availableSize;\n        var id = map.element.id + '_Annotation_' + annotationIndex;\n        var childElement = createElement('div', {\n            id: map.element.id + '_Annotation_' + annotationIndex, styles: 'position: absolute; z-index:' + annotation.zIndex + ';'\n        });\n        var argsData = {\n            cancel: false, name: annotationRendering, content: annotation.content,\n            annotation: annotation\n        };\n        this.map.trigger(annotationRendering, argsData, function (annotationArgs) {\n            if (argsData.cancel) {\n                return;\n            }\n            var blazor = 'Blazor';\n            templateFn = getTemplateFunction(argsData.content);\n            if (templateFn && (!window[blazor] ? templateFn(_this.map, null, null, _this.map.element.id + '_ContentTemplate_' + annotationIndex).length : {})) {\n                templateElement = Array.prototype.slice.call(templateFn(!window[blazor] ? _this.map : {}, null, null, _this.map.element.id + '_ContentTemplate_' + annotationIndex));\n                var length_1 = templateElement.length;\n                for (var i = 0; i < length_1; i++) {\n                    childElement.appendChild(templateElement[i]);\n                }\n            }\n            else {\n                childElement.appendChild(createElement('div', {\n                    innerHTML: argsData.content\n                }));\n            }\n        });\n        var offset = getElementOffset(childElement.cloneNode(true), map.element);\n        var elementRect = map.element.getBoundingClientRect();\n        var bounds = map.svgObject.getBoundingClientRect();\n        left = Math.abs(bounds.left - elementRect.left);\n        top = Math.abs(bounds.top - elementRect.top);\n        var annotationXValue = (annotation.x.indexOf('%') > -1) ? (availSize.width / 100) * parseFloat(annotation.x) :\n            parseFloat(annotation.x);\n        var annotationYValue = (annotation.y.indexOf('%') > -1) ? (availSize.height / 100) * parseFloat(annotation.y) :\n            parseFloat(annotation.y);\n        left = (annotation.horizontalAlignment === 'None') ? (left + annotationXValue) : left;\n        top = (annotation.verticalAlignment === 'None') ? (top + annotationYValue) : top;\n        switch (annotation.verticalAlignment) {\n            case 'Near':\n                top = (top + annotationYValue);\n                break;\n            case 'Center':\n                top = (top + annotationYValue) + ((bounds.height / 2) - (offset.height / 2));\n                break;\n            case 'Far':\n                top = (top + bounds.height + annotationYValue) - offset.height;\n                break;\n        }\n        switch (annotation.horizontalAlignment) {\n            case 'Near':\n                left = (left + annotationXValue);\n                break;\n            case 'Center':\n                left = (left + annotationXValue) + ((bounds.width / 2) - (offset.width / 2));\n                break;\n            case 'Far':\n                left = (left + bounds.width + annotationXValue) - offset.width;\n                break;\n        }\n        childElement.style.left = left + 'px';\n        childElement.style.top = top + 'px';\n        parentElement.appendChild(childElement);\n    };\n    /*\n   * Get module name.\n   */\n    Annotations.prototype.getModuleName = function () {\n        return 'Annotations';\n    };\n    /**\n     * To destroy the annotation.\n     * @return {void}\n     * @private\n     */\n    Annotations.prototype.destroy = function (map) {\n        // Destroy method performed here\n    };\n    return Annotations;\n}());\nexport { Annotations };\n"]},"metadata":{},"sourceType":"module"}